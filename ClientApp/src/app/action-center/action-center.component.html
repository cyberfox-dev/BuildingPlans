



<button class="actioncenter" (click)="openXl(content)"><a>Action Center</a></button>


<ng-template #content let-modal>
  <div class="modal-header">
    <h1 class="modal-title">Action center</h1>
    <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
  </div>
  <div class="modal-body">
    <div class="cont">
    <button mat-raised-button color="primary" (click)="getAllSubDepartments(assign)">Assign this project</button>
    <button mat-raised-button color="primary">Assign a Department to this project</button>
      </div>
    <mat-accordion>



      <mat-divider></mat-divider>

      <mat-expansion-panel (opened)="panelOpenState = true"
                           (closed)="panelOpenState = false" class="approve">
        <mat-expansion-panel-header>
          <mat-panel-title>
            Approve
          </mat-panel-title>
        </mat-expansion-panel-header>


        <div class="cont2">
          <mat-form-field class="example-full-width">
            <mat-label>Leave a comment</mat-label>
            <input matInput autocomplete="off">
          </mat-form-field>
          <button mat-raised-button color="purple" [matMenuTriggerFor]="menu" ><i class="fa fa-comment" aria-hidden="true"></i></button>
          <mat-menu #menu="matMenu" xPosition="before">
          <!-- <button mat-menu-item *ngFor="let subDemartment of SubDepartmentDropdown" value="{{subDemartment.subDepartmentID}}">{{subDemartment.subDepartmentName}}</button>
-->
          </mat-menu>
        </div>

        <div class="cont3">
          <button mat-raised-button color="green">Apporove</button>
          <mat-checkbox class="example-margin" [(ngModel)]="checked" (click)="depositReqModal(deposit)">Deposit Required</mat-checkbox>
          </div>

      </mat-expansion-panel>

      <mat-expansion-panel (opened)="panelOpenState = true"
                           (closed)="panelOpenState = false" class="reject">
        <mat-expansion-panel-header>
          <mat-panel-title>
            Reject
          </mat-panel-title>
        </mat-expansion-panel-header>

        <div class="cont2">
          <mat-form-field class="example-full-width">
            <mat-label>Leave a comment</mat-label>
            <input matInput autocomplete="off">
          </mat-form-field>
          <button mat-raised-button color="purple"><i class="fa fa-comment" aria-hidden="true"></i></button>
        </div>
        <button type="button" class="btn btn-danger">Reject</button>


      </mat-expansion-panel>

      <mat-expansion-panel (opened)="panelOpenState = true"
                           (closed)="panelOpenState = false" class="clarify">
        <mat-expansion-panel-header>
          <mat-panel-title>
            Clarify
          </mat-panel-title>

        </mat-expansion-panel-header>

        <div class="cont2">
          <mat-form-field class="example-full-width">
            <mat-label>Leave a comment</mat-label>
            <input matInput autocomplete="off">
          </mat-form-field>
          <button mat-raised-button color="purple"><i class="fa fa-comment" aria-hidden="true"></i></button>
        </div>
        <button type="button" class="btn btn-warning">Clarify</button>


      </mat-expansion-panel>

      <mat-expansion-panel (opened)="panelOpenState = true"
                           (closed)="panelOpenState = false" class="escalate">
        <mat-expansion-panel-header>
          <mat-panel-title>
            Refer
          </mat-panel-title>

        </mat-expansion-panel-header>
        <div class="cont2">
          <mat-form-field class="example-full-width">
            <mat-label>Leave a comment</mat-label>
            <input matInput autocomplete="off">
          </mat-form-field>
          <button mat-raised-button color="purple"><i class="fa fa-comment" aria-hidden="true"></i></button>
        </div>
        <button type="button" class="btn btn-info ">Refer</button>

      </mat-expansion-panel>

    </mat-accordion>

  </div>

</ng-template>


<!--modal for when they click deposit required-->


<ng-template #deposit let-modal>
  <div class="modal-header">
    <h1 class="modal-title">Deposit Required</h1>
    <button type="button" class="btn-close" aria-label="Close" (click)="uncheck();modal.dismiss('Cross click')"></button>
  </div>
  <div class="modal-body">

    <div class="row">
      <div class="col">
        <div class="col">
          <div class="form-floating mb-3 mt-3">
            <input type="text" class="form-control" [(ngModel)]="serviceItemName" placeholder="Enter Service Item Name">
            <label for="serviceItemName">Service Item Name</label>
          </div>
        </div>
      </div>
      <div class="col">
        <div class="form-floating mb-3 mt-3">
          <input type="text" class="form-control" [(ngModel)]="description" placeholder="Description">
          <label for="description">Description</label>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <div class="col">
          <div class="form-floating mb-3 mt-3">
            <input type="text" class="form-control" [(ngModel)]="rate" placeholder="Enter Rate">
            <label for="rate">Rate</label>
          </div>
        </div>
      </div>
      <div class="col">
        <div class="form-floating mb-3 mt-3">
          <input type="text" class="form-control" [(ngModel)]="quantity" placeholder="Enter Quantity">
          <label for="quantity">Quantity</label>
        </div>
      </div>
    </div>
    <div class="row">
 
          <div class="form-floating mb-3 mt-3">
            <input type="text" class="form-control" [(ngModel)]="total" placeholder="Enter Total" disabled>
            <label for="total">Total exc. Vat</label>
          </div>
       
    </div>

  </div>
  <div class="modal-footer">
    </div>

</ng-template>

<ng-template #assign let-modal>
  <div class="modal-header">
    <h1 class="modal-title">Assign Project</h1>
    <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
  </div>
  <div class="modal-body">

    <table mat-table [dataSource]="dataSourceSubDepartment" class="mat-elevation-z8">



      <ng-container matColumnDef="subDepartmentName">
        <th mat-header-cell *matHeaderCellDef> Sub Department Name </th>
        <td mat-cell *matCellDef="let element"> {{element.subDepartmentName}} </td>
      </ng-container>
     

      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef>Actions</th>
        <td mat-cell *matCellDef="let i = index">
          <mat-checkbox class="example-margin" ></mat-checkbox>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumnsSubDepartment"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumnsSubDepartment;"></tr>
    </table>

  </div>
  <div class="modal-footer">
    <button type="submit" class="btn btn-outline-success" (click)="modal.close('Save click')">Save</button>
  </div>

</ng-template>


